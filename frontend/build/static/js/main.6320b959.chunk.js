(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},117:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);n(80);var a=n(0),r=n(21),c=n.n(r),s=(n(85),n(14)),i=n(36),o=n(11),l=function(e){return e.children},d=n(9),j=n(16),u=n(132),h=n(131),b=n(128),m=n.p+"static/media/name_transparent.be9494a1.png",p=n(1),x=function(e){return Object(p.jsx)("header",{children:Object(p.jsxs)(u.a,{expand:"lg",bg:"secondary",variant:"dark",fixed:"top",className:"bg-header",style:"menu"===e.title?{alignItems:"flex-start"}:null,children:[Object(p.jsx)("img",{src:m,className:"img-logo",alt:"logo"}),Object(p.jsx)(h.a,{className:"ml-auto",children:"menu"===e.title?Object(p.jsxs)(b.a,{children:[Object(p.jsx)(b.a.Toggle,{variant:"success",as:"div",id:"dropdown-basic-button",style:{height:"40px",padding:"10px 0",textAlign:"right"},children:Object(p.jsx)("span",{className:"menu-span",children:"MENU"})}),Object(p.jsx)(b.a.Menu,{children:e.menuItems.map((function(t,n){var a=t.type.replace(/\s+/g,"-");return Object(p.jsx)(b.a.Item,{onClick:function(t){e.menuClicked(a)},children:t.type},t.type+"_"+n)}))})]}):Object(p.jsx)("h5",{style:{padding:"0px",margin:"0px",textTransform:"uppercase"},children:e.title})}),"manage"===e.title?Object(p.jsx)("img",{src:"data:image/png;base64,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",alt:"close manage",style:{marginLeft:"10px",width:"35px"},onClick:e.closeManage}):null]})})},f=n(55),O=n(56),g=n(59),v=n(58),y=n(6),C=n.n(y),A=n(124),k=n(77),P=n(76),w=n.p+"static/media/img-default.530f8777.png",I=(n(91),function(e){var t="http://"+window.location.host+e.item.image;return Object(p.jsx)("div",{className:"item",children:Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:4,style:{paddingRight:"0px"},children:Object(p.jsx)("div",{className:"item-image",children:null==e.item.image?Object(p.jsx)("img",{src:w,alt:"Product"}):Object(p.jsx)("img",{src:t,alt:"Product"})})}),Object(p.jsx)(k.a,{xs:8,style:{paddingLeft:"0px"},children:Object(p.jsxs)("div",{className:"item-details d-flex flex-column",children:[Object(p.jsx)("h4",{children:e.item.name}),Object(p.jsx)("p",{children:e.item.description}),Object(p.jsx)("div",{className:"item-footer mt-auto",children:Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{children:Object(p.jsxs)("h4",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9"})," ",e.item.price]})}),Object(p.jsx)(k.a,{style:{textAlign:"right"},children:!0===e.item.customizable?Object(p.jsxs)(P.a,{className:"btn-item-add",onClick:function(){return e.onAdd(e.item,e.category)},children:["Add",Object(p.jsx)("sup",{children:"+"})]}):Object(p.jsx)(P.a,{className:"btn-item-add",onClick:function(){return e.onAdd(e.item,e.category)},children:"Add"})})]})})]})})]})})});I.protoTypes={category:C.a.string.isRequired};var N=I,S=function(e){var t=e.title;return t=t.replace(/\s+/g,"-"),Object(p.jsxs)("div",{id:t,children:[Object(p.jsx)("h4",{className:"title-sticky",children:e.title}),e.items.map((function(t,n){var a=e.title+"_"+t.id;return Object(p.jsx)(N,{item:t,onAdd:e.onAdd,category:e.title},a)}))]})},H=n(129),B=n(32),D=function(e){var t,n={fontWeight:500};return Object(p.jsxs)("div",{className:"div-form",children:[Object(p.jsx)("label",{htmlFor:e.item.name,children:Object(p.jsx)("span",{style:e.item.purchased?n:null,onClick:function(t){e.onChange(t,e.item)},children:Object(p.jsx)("span",{style:{textTransform:"capitalize"},children:e.item.name})})}),Object(p.jsxs)("span",(t={style:e.item.purchased?n:null,onClick:function(t){e.onChange(t,e.item)}},Object(B.a)(t,"style",{textAlign:"right",float:"right",cursor:"pointer"}),Object(B.a)(t,"children",[Object(p.jsx)("span",{className:"rupee",style:e.item.purchased?n:{fontWeight:300},children:"\u20b9"}),Object(p.jsx)("span",{className:"span-price",style:e.item.purchased?n:{fontWeight:300},children:e.item.price}),Object(p.jsx)("input",{type:"checkbox",id:e.item.id,name:e.item.name,onChecked:function(t){e.onChange(t,e.item)},checked:e.item.purchased,style:{marginLeft:"8px"}})]),t))]})},E=n(12),L=n.n(E),z=(n(110),function(e){var t,n={fontWeight:500};return Object(p.jsxs)("div",{className:"div-form",children:[Object(p.jsx)("label",{htmlFor:e.item.name,children:Object(p.jsx)("span",{style:e.defaultChecked===e.item.name?n:null,onClick:function(t){e.onChange(t,e.item)},children:Object(p.jsx)("span",{style:{textTransform:"capitalize"},children:e.item.name})})}),Object(p.jsxs)("span",(t={style:e.defaultChecked===e.item.name?n:null,onClick:function(t){e.onChange(t,e.item)}},Object(B.a)(t,"style",{textAlign:"right",float:"right",cursor:"pointer"}),Object(B.a)(t,"children",[Object(p.jsx)("span",{className:"rupee",style:e.defaultChecked===e.item.name?n:{fontWeight:300},children:"\u20b9"}),Object(p.jsx)("span",{className:"span-price",style:e.defaultChecked===e.item.name?n:{fontWeight:300},children:e.item.price}),Object(p.jsx)("input",{type:"radio",name:"size",onChange:function(t){e.onChange(t,e.item)},checked:e.defaultChecked===e.item.name,value:e.item.name,style:{marginLeft:"8px"}})]),t))]})}),F=n(10),Q=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],u=o[1],h=Object(a.useState)({id:e.modalInfo.id,category:e.modalInfo.category,name:e.modalInfo.name,size:{},addons:[],totalPrice:0}),b=Object(s.a)(h,2),m=b[0],x=b[1];Object(a.useEffect)((function(){!function(){var t=null,n="get_sizes/".concat(e.modalInfo.id);L.a.get(n).then((function(e){t=e.data.data;var n=e.data.data.size.map((function(e){var t="get_addons/".concat(e.id);return L.a.get(t)}));L.a.all(n).then((function(e){t.size.map((function(t,n){if(t.purchased=!0,t.addons=e[n].data.data[0].addons,t.addons.forEach((function(e){e.purchased=!1})),0===n){var a=Object(j.a)(t.addons),r=Object(d.a)({},m);r.size=Object(d.a)({},t),r.size.purchased=!0,r.totalPrice=t.price,delete r.size.addons,u(a),x(r)}return null})),c(t)}))})).catch((function(e){F.c.error("Could not connect to server. Please try again!")}))}()}),[]);var f=function(e,t){var n=Object(d.a)({},t);n.addons.forEach((function(e){return e.purchased=!1})),u(n.addons);var a=Object(d.a)({},m);a.size=Object.assign({},n),a.size.purchased=!0,delete a.size.addons,a.addons=[],a.totalPrice=n.price,x(a)},O=function(e,t){var n=Object(j.a)(l),a=Object(d.a)({},m);n.map((function(e){return t.id===e.id&&(e.purchased=!e.purchased),null})),u(n),a.addons=[],a.totalPrice=a.size.price,n.map((function(e){return!0===e.purchased&&(a.addons.push(e),a.totalPrice=a.totalPrice+e.price),null})),x(a)};return Object(p.jsx)("div",{children:Object(p.jsxs)(H.a,{show:e.customizing,onHide:e.handleClose,autoFocus:!0,enforceFocus:!0,children:[Object(p.jsx)(H.a.Header,{closeButton:!0,children:Object(p.jsxs)(H.a.Title,{children:[Object(p.jsx)("h4",{className:"uppercase",style:{fontSize:"17px"},children:e.modalInfo.name}),Object(p.jsxs)("p",{className:"category",children:["in ",e.modalInfo.category]})]})}),Object(p.jsx)(H.a.Body,{children:null!==r&&null!==l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{className:"mb-2",children:"Size"}),r.size.map((function(e){return Object(p.jsx)(z,{item:e,onChange:f,defaultChecked:null!==m.size?m.size.name:null},r.id+"_size_"+e.name)})),Object(p.jsx)("hr",{}),0!==l.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{className:"mt-3 mb-2",children:"Add Ons"}),l.map((function(e){return Object(p.jsx)(D,{item:e,onChange:O},r.id+"_addon_"+e.name)}))]}):null]}):Object(p.jsx)("p",{children:"loading..."})}),Object(p.jsxs)(H.a.Footer,{children:[Object(p.jsxs)("h5",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),m.totalPrice]}),Object(p.jsx)(P.a,{variant:"primary",className:"btn-add-to-cart",disabled:null===r||null===l,onClick:function(){e.addToCartBtn(m)},children:"Add To Cart"})]})]})})},W=n(125),R=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menuItems:[],customization:!1,cart:[]},e.modalInfo=null,e.itemAddHandler=function(t,n){e.setState({customization:!0}),e.modalInfo=Object(d.a)({},t),e.modalInfo.category=n},e.itemCancelHandler=function(){e.setState({customization:!1})},e.displayMenu=function(){return e.state.menuItems.map((function(t){return Object(p.jsx)(S,{title:t.type,items:t.products,onAdd:e.itemAddHandler},t.type)}))},e.menuClicked=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(console.log("clicked"),null!=e){var t=document.querySelector("#"+e);t.scrollIntoView({behavior:"smooth",block:"start"})}},e}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.a.get("menu").then((function(t){var n=Object(d.a)({},e.state);n.menuItems=t.data.data.menuItems,e.setState(n)})).catch((function(e){F.c.error("Could not connect to server. Please try again!")})),window.scroll({top:0,left:0,behavior:"smooth"})}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(l,{children:[Object(p.jsx)(x,{title:"menu",menuClicked:this.menuClicked,menuItems:this.state.menuItems}),Object(p.jsxs)(W.a,{as:"div",style:{maxWidth:"540px"},children:[0!==this.state.menuItems.length?this.displayMenu():Object(p.jsx)("h5",{className:"text-center",style:{fontStyle:"italic"},children:"Loading... Please wait!"}),this.state.customization?Object(p.jsx)(Q,{customizing:this.state.customization,handleClose:this.itemCancelHandler,modalInfo:this.modalInfo,addToCartBtn:function(t){e.setState({customization:!1}),e.props.addToCart(Object(d.a)({},t))},itemCancelHandler:this.itemCancelHandler}):null]})]})}}]),n}(a.Component),T=function(){return Object(p.jsx)("footer",{children:Object(p.jsx)(W.a,{children:Object(p.jsx)(A.a,{children:Object(p.jsx)(k.a,{className:"text-center",children:Object(p.jsx)("p",{style:{fontSize:"12px",fontWeight:400},children:"Copyright \xa9 2021 Bread Bites"})})})})})},M=n(130),X=(n(111),function(e){return Object(p.jsxs)(A.a,{className:"cartItem",children:[Object(p.jsxs)(k.a,{xs:8,children:[Object(p.jsx)("h5",{children:e.object.name}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:3,children:Object(p.jsx)("p",{children:"Category: "})}),Object(p.jsx)(k.a,{xs:9,children:Object(p.jsx)("p",{children:e.object.category})})]}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:3,children:Object(p.jsx)("p",{style:{textTransform:"capitalize"},children:"Size: "})}),Object(p.jsx)(k.a,{xs:9,children:Object(p.jsx)("p",{children:e.object.size.name})})]}),function(){if(0!==e.object.addons.length)return Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:3,children:Object(p.jsx)("p",{style:{textTransform:"capitalize"},children:"Addons: "})}),Object(p.jsx)(k.a,{xs:9,children:e.object.addons.map((function(e){return Object(p.jsx)("p",{children:e.name},e.id)}))})]})}()]}),Object(p.jsxs)(k.a,{xs:3,style:{textAlign:"right"},children:[Object(p.jsx)(A.a,{children:Object(p.jsx)(k.a,{style:{marginRight:"3px"},children:Object(p.jsxs)("h5",{className:"price",style:e.object.bogo?{textDecoration:"line-through",textDecorationThickness:"1px"}:null,children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),e.object.totalPrice]})})}),e.object.bogo?Object(p.jsx)(A.a,{children:Object(p.jsx)(k.a,{style:{textAlign:"right"},children:Object(p.jsx)("h5",{className:"free-badge",children:"free"})})}):null]}),Object(p.jsx)(k.a,{xs:1,style:{padding:"0 10px 0 0"},children:Object(p.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(t){return e.clearCart(t,e.object)},children:Object(p.jsx)("span",{"aria-hidden":"true",className:"remove-btn-cart",id:"remove",children:"\xd7"})})})]})}),G=n(126),V=function(e){return Object(p.jsxs)(G.a,{variant:e.variant,style:{borderRadius:"15px",border:"none"},children:[Object(p.jsx)(G.a.Heading,{children:e.title}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"mb-0",children:e.children})]})},q=(n(112),function(e){var t=null;return 0!==e.cart.cartItems.length&&(t=e.cart.cartItems.map((function(t){return Object(p.jsx)(X,{object:t,clearCart:e.clearCart},t.kid)}))),Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(p.jsx)(l,{children:0!==e.cart.cartItems.length?Object(p.jsxs)(l,{children:[Object(p.jsxs)("div",{className:"cart-div",children:[Object(p.jsx)("h5",{style:{textAlign:"center",marginBottom:"30px"},children:"Order Summary"}),t,Object(p.jsx)("hr",{className:"cart-hr"}),Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:8,children:Object(p.jsx)("h5",{children:"Total"})}),Object(p.jsx)(k.a,{xs:3,style:{textAlign:"right"},children:e.cart.cartPrice===e.cart.totalPrice?Object(p.jsxs)("h5",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{style:{fontWeight:"600"},children:e.cart.cartPrice})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("h5",{className:"price",style:{textDecoration:"line-through",textDecorationThickness:"1px"},children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),e.cart.totalPrice]}),Object(p.jsxs)("h5",{className:"price",style:{marginTop:"7px"},children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{style:{fontWeight:"600"},children:e.cart.cartPrice})]})]})}),Object(p.jsx)(k.a,{xs:1,style:{padding:"0 10px 0 0"},children:Object(p.jsx)("button",{type:"button",className:"close","aria-label":"Close",style:{padding:"0px"},onClick:function(t){return e.clearCart(t)},children:Object(p.jsx)("span",{"aria-hidden":"true",className:"remove-btn-cart",id:"clear",children:"\xd7"})})})]}),Object(p.jsxs)("p",{style:{fontStyle:"italic"},children:["Quantity: ",e.cart.cartItems.length]})]}),Object(p.jsxs)(M.a,{validated:e.validated,noValidate:!0,onSubmit:e.placeOrder,children:[Object(p.jsxs)("div",{className:"cart-div",children:[Object(p.jsx)("h5",{style:{textAlign:"center"},children:"Contact Details"}),Object(p.jsxs)(M.a.Group,{as:A.a,controlId:"formHorizontalName",style:{marginTop:"30px"},children:[Object(p.jsx)(M.a.Label,{column:!0,xs:2,children:"Name"}),Object(p.jsxs)(k.a,{xs:10,children:[Object(p.jsx)(M.a.Control,{type:"text",placeholder:"John Peter",className:"input-field",value:e.name,onInput:function(t){return e.nameHandler(t)},required:!0}),Object(p.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please enter a name."})]})]}),Object(p.jsxs)(M.a.Group,{as:A.a,controlId:"formHorizontalPhone",children:[Object(p.jsx)(M.a.Label,{column:!0,xs:2,children:"Phone"}),Object(p.jsxs)(k.a,{xs:10,children:[Object(p.jsx)(M.a.Control,{type:"text",placeholder:"952XXXXX98",className:"input-field",value:e.phone,onInput:function(t){return e.phoneHandler(t)},required:!0,pattern:"[0-9]*",maxLength:10,minLength:10}),Object(p.jsx)(M.a.Control.Feedback,{type:"invalid",children:"Please enter a valid contact number."})]})]})]}),Object(p.jsx)("div",{className:"div-place-order",children:Object(p.jsx)(P.a,{type:"submit",className:"btn-place-order",children:"Place Order"})})]})]}):Object(p.jsx)(V,{title:"Empty Cart!",variant:"danger",children:Object(p.jsx)(i.c,{to:"/",className:"view-menu-btn-link",style:{textDecoration:"none"},children:Object(p.jsx)("div",{className:"view-menu-btn",children:"View MENU"})})})})});var U=Object(o.f)((function(e){var t=Object(a.useState)({cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}}),n=Object(s.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)({id:null,price:null}),u=Object(s.a)(l,2),h=u[0],b=u[1],m=Object(a.useState)(null),f=Object(s.a)(m,2),O=f[0],g=f[1];Object(a.useEffect)((function(){L.a.get("day").then((function(e){var t=e.data.day;console.log(t),g(t)})).catch((function(e){console.log(e)}))}),[]);var v=Object(a.useState)(0),y=Object(s.a)(v,2),C=y[0],A=y[1],k=Object(a.useState)(0),P=Object(s.a)(k,2),w=P[0],I=P[1],N=Object(a.useState)(0),S=Object(s.a)(N,2),H=S[0],B=S[1],D=Object(a.useState)([]),E=Object(s.a)(D,2),z=E[0],Q=E[1],M=Object(a.useState)([]),X=Object(s.a)(M,2),G=X[0],U=X[1],K=function(e){if(0===C){console.log("inside if");for(var t=Object(j.a)(z),n=0;n<z.length;n++)for(var a=0;a<2;a++)if(t[n][a].kid===e.kid){var r=0===a?1:0;t[n][0].bogo=!1,t[n][1].bogo=!1,t[n][a]="empty";var c=t[n][r].kid;return console.log("step 1"),A(1),I(n),B(a),Q(t),console.log("step 2"),{kid:c,one:!0}}}else if(1===C){console.log("inside else if 1");for(var s=Object(j.a)(z),i=0;i<z.length;i++)for(var o=0;o<2;o++)if(s[i][o].kid===e.kid){var l=1===o?0:1;if(w!==i){if(s[i][0].bogo=!1,s[i][1].bogo=!1,s[w][H]=Object(d.a)({},s[i][l]),s[w][0].totalPrice>=s[w][1].totalPrice){s[w][1].bogo=!0;var u=s[w][0].kid,h=s[w][1].kid;return s.splice(i,1),A(0),I(0),B(0),Q(s),{kid:h,one:!1,kidF:u,onef:!1}}var b=s[w][1].kid;s[w][0].bogo=!0;var m=s[w][0].kid;return s.splice(i,1),A(0),I(0),B(0),Q(s),{kid:m,one:!1,kidF:b,onef:!1}}if(w===i)return s.splice(w,1),A(0),B(0),I(0),Q(s),{id:-1,one:!1}}}};function J(e){var t=0;return e.cartItems.forEach((function(e){!1===e.bogo&&(t+=e.totalPrice)})),t}var Y=Object(a.useState)(!1),Z=Object(s.a)(Y,2),_=Z[0],$=Z[1],ee=Object(a.useState)(null),te=Object(s.a)(ee,2),ne=te[0],ae=te[1];return Object(a.useEffect)((function(){if(null!==ne){console.log("inside useeffect of itemremovetemp"),console.log(r),console.log(ne);var e=Object(d.a)({},r),t=J(e);e.cartPrice=t,c(e)}}),[ne]),Object(p.jsxs)("div",{children:[Object(p.jsx)("main",{className:"app-body",children:Object(p.jsxs)(o.c,{children:[Object(p.jsxs)(o.a,{path:e.match.url,exact:!0,children:[Object(p.jsx)(R,{addToCart:function(e){console.log("inside add to cart");var t=Object(d.a)({},e);t.bogo=!1;var n=Object(d.a)({},r),a=Object(j.a)(G);do{t.kid=n.cartItems.length+1+Math.floor(1e3*Math.random())}while(G.includes(t.kid));if(a.push(t.kid),n.cartPrice=n.cartPrice+t.totalPrice,n.totalPrice=n.totalPrice+t.totalPrice,n.cartItems.push(t),console.log(t.size.name),2===O&&"regular"!==t.size.name&&"beverages"!==t.category){var s=function(e){if(console.log(z.length),console.log(z),0===z.length){console.log("First Time"),console.log("inside first time if");var t=[e,"empty"],n=Object(j.a)(z);return n.push(t),A(1),Q(n),-1}if(console.log("inside else"),1===C){console.log("inside if of else");var a=Object(j.a)(z),r=a[w].indexOf("empty"),c=1===r?0:1;return a[w][c].totalPrice>=e.totalPrice?(console.log("inside if of if of else"),console.log("max item is: ",a[w][c]),e.bogo=!0,a[w][r]=e,Q(a),A(0),I(a.length-1),e.kid):(console.log("inside else of if of else"),a[w][c].bogo=!0,console.log("max item is: ",e),a[w][r]=e,Q(a),A(0),I(a.length-1),a[w][c].kid)}if(0===C){console.log("inside else if of else");var s=[e,"empty"],i=Object(j.a)(z);return i.push(s),A(1),B(1),I(i.length-1),Q(i),-1}}(Object(d.a)({},t)),i=null;-1!==s&&(s===t.kid?t.bogo=!0:n.cartItems.find((function(e,t){return e.kid===s&&(i=t,!0)}))&&(n.cartItems[i].bogo=!0)),n.cartPrice=J(Object(d.a)({},n)),console.log(J(Object(d.a)({},n)))}console.log("cart Length before:",r.cartItems.length),F.c.success("Added To Cart!"),U(a),c(n)}}),Object(p.jsx)(W.a,{children:Object(p.jsx)(i.b,{to:"/cart",children:Object(p.jsxs)("div",{className:"icon-wrapper",children:[Object(p.jsx)("i",{className:"fas fa-shopping-cart fa-3x cart"}),Object(p.jsx)("span",{className:"badge",children:0!==r.cartItems.length?r.cartItems.length:null})]})})})]}),Object(p.jsxs)(o.a,{path:e.match.url+"cart",children:[Object(p.jsx)(x,{title:"cart"}),Object(p.jsxs)(W.a,{as:"div",style:{maxWidth:"540px"},children:[Object(p.jsx)(q,{cart:r,name:r.contactDetails.name,phone:r.contactDetails.phone,nameHandler:function(e){var t=Object(d.a)({},r);t.contactDetails.name=e.target.value,c(t)},phoneHandler:function(e){var t=Object(d.a)({},r);t.contactDetails.phone=e.target.value,c(t)},placeOrder:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),$(!0)):(t.preventDefault(),t.stopPropagation(),function(){var t=Object(d.a)({},r),n={cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}},a=Object(d.a)({},h);console.log("inside postorder"),L.a.post("place_order",t).then((function(t){a.id=t.data.order_id,a.price=t.data.price,b(a),c(n),I(0),A(0),Q([]),B(0),U([]),$(!1),e.history.replace("/order")})).catch((function(e){console.log(e),F.c.error("Could not connect to server. Please try again!")}))}())},validated:_,clearCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.target.id,a=Object(d.a)({},r);if("clear"===n||"remove"===n&&1===a.cartItems.length)a={cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}},A(0),B(0),I(0),Q([]),U([]);else if("remove"===n){var s=Object(j.a)(a.cartItems);if(a.cartItems=s.filter((function(e){return e.kid!==t.kid})),2===O&&"regular"!==t.size.name&&"beverages"!==t.category){console.log("step 0");var i=K(Object(d.a)({},t));console.log("step 3"),-1!==i.kid&&a.cartItems.forEach((function(e,t){e.kid===i.kid?!1===i.one?a.cartItems[t].bogo=!0:!0===i.one&&(a.cartItems[t].bogo=!1):void 0!==i.kidF&&i.kidF===e.kid&&!1===i.onef&&(a.cartItems[t].bogo=!1)})),ae(t)}else a.cartPrice=a.cartPrice-t.totalPrice;a.totalPrice=a.totalPrice-t.totalPrice}c(a),console.log("cart",r)}}),Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("div",{className:"icon-wrapper",children:Object(p.jsx)("i",{className:"fas fa-bars fa-3x cart"})})})]})]}),Object(p.jsxs)(o.a,{path:e.match.url+"order",children:[Object(p.jsx)(x,{}),Object(p.jsx)(W.a,{children:Object(p.jsx)(V,{variant:"success",title:"Order Successful!",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{style:{fontWeight:"300"},children:"Thank you for your order. We've received it at our end. Please note the below details: "}),Object(p.jsxs)("div",{style:{margin:"15px 0"},children:[Object(p.jsxs)("h4",{children:["Order No: ",Object(p.jsx)("span",{children:h.id})]}),Object(p.jsxs)("h4",{children:["Amount: ",Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{children:h.price})]})]}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:"Pay the above amount at the cash counter for your order to process."}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{display:"block",marginTop:"10px",fontWeight:"300"},children:"Enjoy your meal!"})]})})})]}),Object(p.jsx)(o.a,{render:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)(W.a,{children:Object(p.jsx)("h2",{children:"404. Page Not Found!"})})]})}})]})}),Object(p.jsx)(T,{})]})})),K=n(133),J=n(127),Y=(n(115),n(116),function(e){return Object(p.jsx)(K.a,{className:"item-card",children:Object(p.jsxs)(K.a.Body,{className:"item-card-body",children:[Object(p.jsx)(K.a.Title,{children:e.item.name}),Object(p.jsx)(K.a.Subtitle,{className:"mb-2 text-muted",children:e.item.category}),Object(p.jsxs)(K.a.Text,{as:"div",className:"item-card-body-text",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{style:{fontStyle:"italic"},children:"Price: "}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:e.item.total})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{style:{fontStyle:"italic"},children:"Size: "}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:e.item.itemSize.name})]}),0!==e.item.itemAddons.length?Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{xs:4,style:{paddingRight:"0px"},children:Object(p.jsx)("p",{style:{fontStyle:"italic"},children:"Addons:"})}),Object(p.jsx)(k.a,{xs:8,style:{paddingLeft:"0px",fontWeight:"500"},children:e.item.itemAddons.map((function(e){return Object(p.jsx)("p",{children:e.name},e.id)}))})]}):null]})]})})}),Z=function(e){var t=null;return"tobepaid"===e.order.order.status?(t="info","1px solid var(--info)"):"paid"===e.order.order.status?(t="warning","1px solid var(--warning)"):"prepared"===e.order.order.status&&!0===e.order.order.paidStatus?(t="success","1px solid var(--success)"):"paylater"===e.order.order.status?(t="danger","1px solid var(--danger)"):"prepared"===e.order.order.status&&!1===e.order.order.paidStatus&&(t="success","1px solid var(--success)"),Object(p.jsxs)(K.a,{border:t,className:"orderCard",onClick:e.soundStop,children:[Object(p.jsx)(K.a.Header,{style:{borderBottom:"none"},children:Object(p.jsxs)(A.a,{style:{textAlign:"center"},children:[Object(p.jsxs)(k.a,{lg:2,children:["Order No: ",Object(p.jsx)("span",{className:"bold",children:e.order.order.id})]}),Object(p.jsxs)(k.a,{lg:2,children:["Items: ",Object(p.jsx)("span",{className:"bold",children:e.order.orderItems.length})]}),Object(p.jsxs)(k.a,{lg:5,children:["Contact: ",Object(p.jsxs)("span",{className:"bold",children:[e.order.contactDetails.name," - ",e.order.contactDetails.phone]})]}),Object(p.jsxs)(k.a,{lg:3,children:["Amount: ",Object(p.jsx)("span",{className:"bold",children:e.order.order.paid})," ",Object(p.jsxs)("span",{style:{textDecoration:"line-through",textDecorationThickness:"1px"},children:[" ",2===e.day?e.order.order.total:null," "]})," - ",!0===e.order.order.paidStatus?Object(p.jsx)("span",{children:"Paid"}):Object(p.jsx)("span",{children:"Not Paid"})]})]})}),Object(p.jsx)(K.a.Body,{className:"order-card-body",children:Object(p.jsxs)(A.a,{style:{justifyContent:"center",alignItems:"center"},children:[Object(p.jsx)(k.a,{children:Object(p.jsx)(J.a,{children:e.order.orderItems.map((function(e){return Object(p.jsx)(Y,{item:e},e.id)}))})}),Object(p.jsx)(k.a,{lg:3,id:"orderCardBtn",children:"tobepaid"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"cancel",onClick:function(t){return e.statusHandler(t,e.order)},children:"Cancel"}),Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"danger",id:"payLater",onClick:function(t){return e.statusHandler(t,e.order)},children:"Pay Later"})]}):"paid"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"preparing",disabled:!0,onClick:function(t){return e.statusHandler(t,e.order)},children:"Preparing"}),Object(p.jsx)(P.a,{variant:"warning",id:"prepared",onClick:function(t){return e.statusHandler(t,e.order)},children:"Prepared"})]}):"prepared"===e.order.order.status&&!0===e.order.order.paidStatus?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(P.a,{variant:"success",id:"dispatched",onClick:function(t){return e.statusHandler(t,e.order)},children:"Dispatched"})}):"paylater"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"preparing",disabled:!0,onClick:function(t){return e.statusHandler(t,e.order)},children:"Preparing"}),Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"danger",id:"prepared",onClick:function(t){return e.statusHandler(t,e.order)},children:"Prepared"})]}):"prepared"===e.order.order.status&&!1===e.order.order.paidStatus?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"success",id:"dispatched",onClick:function(t){return e.statusHandler(t,e.order)},children:"Dispatched"})]}):void 0})]})})]})},_=(n(117),function(e){return Object(p.jsxs)(H.a,{show:e.show,onHide:e.handleClose,backdrop:"static",keyboard:!1,children:[Object(p.jsx)(H.a.Header,{closeButton:!0,children:Object(p.jsx)(H.a.Title,{children:e.modalInfo.messages.title})}),Object(p.jsx)(H.a.Body,{children:Object(p.jsx)("span",{style:{fontWeight:"300"},children:e.modalInfo.messages.body})}),Object(p.jsxs)(H.a.Footer,{className:"confirmation-modal-footer",children:[Object(p.jsx)(P.a,{variant:"secondary",style:{padding:"8px 40px",margin:"0"},onClick:e.handleClose,children:"No"}),Object(p.jsx)(P.a,{variant:"primary",style:{padding:"8px 40px",margin:"0",borderBottomRightRadius:"13px"},onClick:function(t){return e.modalInfo.messages.button(t,e.modalInfo)},children:"Yes"})]})]})}),$=n(65),ee=n.p+"static/media/notification.36b3763c.mp3",te=function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],confirmation:!1,soundLoop:!1,day:null},e.sound=new $.Howl({src:ee,loop:!0}),e.soundPlay=function(){e.sound.play(),$.Howler.volume(1)},e.soundStop=function(){e.sound.stop()},e.preparedHandler=function(t,n){var a=Object(j.a)(e.state.orders);a[e.state.orders.findIndex((function(e){return e.order.id===n.data.order.id}))].order.status=n.messages.title.toLowerCase(),e.setState({orders:a,confirmation:!1})},e.confirmHandler=function(t,n){var a=Object(j.a)(e.state.orders),r=e.state.orders.findIndex((function(e){return e.order.id===n.data.order.id}));"prepared"!==a[r].order.status&&(a[r].order.status=n.messages.title.toLowerCase()),!0===n.paidBtn&&(a[r].order.paidStatus=!0),L.a.put("update_status/".concat(n.data.order.id),{status:n.messages.title.toLowerCase()}).then((function(t){console.log(t),"cancelled"===t.data.order.status||"dispatched"===t.data.order.status?(a.splice(r,1),e.setState({orders:a,confirmation:!1})):e.setState({orders:a,confirmation:!1}),F.c.success("Changes pushed to server.")})).catch((function(e){console.log(e),F.c.error("Could not connect to server. Please try again later.")}))},e.messages={paid:{title:"Paid",body:"Are you sure you want to confirm as the order paid?",button:e.confirmHandler},payLater:{title:"Paylater",body:"Are you sure you want to confirm the order as pay later?",button:e.confirmHandler},cancel:{title:"Cancelled",body:"Are you sure you want to cancel the order?",button:e.confirmHandler},dispatched:{title:"Dispatched",body:"Are you sure you want to make the order dispatched?",button:e.confirmHandler},prepared:{title:"Prepared",body:"Are you sure you want to make the order prepared?",button:e.confirmHandler}},e.modalInfo={},e.confirmationClose=function(){return e.setState({confirmation:!1})},e.confirmationShow=function(){return e.setState({confirmation:!0})},e.statusHandler=function(t,n,a){console.log(n);var r=t.target.id;e.modalInfo.messages=e.messages[r],e.modalInfo.data=n,e.modalInfo.paidBtn=a,console.log(e.modalInfo),e.confirmationShow()},e.displayOrders=function(){return e.state.orders.map((function(t){return Object(p.jsx)(Z,{statusHandler:e.statusHandler,order:t,soundStop:e.soundStop,day:e.state.day},t.order.id+t.contactDetails.id)}))},e.orderData=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(j.a)(e.state.orders);if(!0===n){console.log("inside if of single true");var r=Object(d.a)({},t);if(a.some((function(e){return e.order.id===r.order.id})))return console.log("exists order already"),!1;if("cancelled"===r.order.status||"dispatched"===r.order.status)return console.log("cancelled or dispatched"),!1;console.log("inside else unshift"),a.unshift(r)}else{var c=t;c.forEach((function(e){var t={contactDetails:{id:e.id,name:e.name,phone:e.phone},order:{id:e.order[0].id,status:e.order[0].status,paid:e.order[0].paid,total:e.order[0].total,paidStatus:e.order[0].paid_status},orderItems:e.order[0].orderitems.map((function(e){return{id:e.id,category:e.category,name:e.name,product:e.product,total:e.total,itemSize:{id:e.size_id,name:e.size_name,price:e.price},itemAddons:e.item_addons.map((function(e){return{id:e.id,addon:e.addon,name:e.name,price:e.price}}))}}))};a.unshift(t)}))}return e.setState({orders:a}),!0},e.landed=!1,e.fetchOrder=function(){L.a.get("get_order_details").then((function(t){0!==t.data.data.length&&e.orderData(t.data.data)})).catch((function(e){console.log("fetch order error",e),F.c.error("Could not connect to server. Please try again later.")}));var t=new EventSource("http://".concat(window.location.host,"/api/get_latest_order"));t.onmessage=function(t){console.log(t);var n=JSON.parse(t.data);if(-1===n)window.location.reload();else if(!0===e.landed&&-1!==n){var a=e.orderData(n,!0);console.log("Order Added",a),a&&(console.log("play sound if"),F.c.info("NEW ORDER # "+n.order.id),e.soundPlay())}!1===e.landed&&F.c.success("Connection Established"),e.landed=!0},t.onerror=function(e){console.log("event source error",e),F.c.error("Could not connect to server. Please try again later.")}},e.closeManage=function(){L.a.post("close",{manage_toggle:!0}).then((function(e){window.location.reload()})).catch((function(e){F.c.error("Could not connect to server. Please try again!")}))},e.componentDidMount=function(){e.landed=!1,L.a.get("day").then((function(t){var n=t.data.day;console.log(n),e.setState({day:n})})).catch((function(e){console.log(e)})),e.fetchOrder()},e}return Object(O.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(l,{children:[Object(p.jsx)(x,{title:"manage",closeManage:this.closeManage}),Object(p.jsx)(F.b,{position:"top-center",transition:F.a,autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1,closeButton:!1}),Object(p.jsx)("main",{className:"py-3 app-body",children:Object(p.jsxs)(W.a,{children:[Object(p.jsx)("div",{id:"headerBar",children:Object(p.jsxs)(A.a,{children:[Object(p.jsx)(k.a,{children:Object(p.jsxs)("h4",{style:{fontWeight:"400"},children:["Orders: ",Object(p.jsx)("span",{className:"bold",children:this.state.orders.length})]})}),Object(p.jsx)(k.a,{style:{textAlign:"right"},children:Object(p.jsx)("h4",{children:"Filter"})})]})}),Object(p.jsxs)("div",{id:"orders",children:[0!==this.state.orders.length?this.displayOrders():Object(p.jsx)("h4",{className:"text-center",children:"No orders to display."}),this.state.confirmation?Object(p.jsx)(_,{show:this.state.confirmation,handleShow:this.confirmationShow,handleClose:this.confirmationClose,modalInfo:this.modalInfo}):null]})]})}),Object(p.jsx)(T,{})]})}}]),n}(a.Component),ne=function(e){return Object(p.jsx)("div",{style:{margin:"auto",marginTop:"10vh",width:"300px"},children:Object(p.jsx)(V,{variant:"info",title:"Enter PIN",children:Object(p.jsxs)(M.a,{onSubmit:function(t){return e.pinSubmit(t)},children:[Object(p.jsx)(M.a.Group,{controlId:"formGroupPassword",children:Object(p.jsx)(M.a.Control,{type:"password",placeholder:"Password",value:e.pin,onChange:e.inputHandler,style:{borderRadius:"70px"},autoFocus:!0})}),Object(p.jsx)(P.a,{variant:"primary",type:"submit",style:{width:"100%",borderRadius:"70px"},onClick:function(t){e.pinSubmit(t)},children:"Submit"})]})})})},ae=(n(118),n(79)),re=n.n(ae),ce=function(){var e=window.location.host;L.a.defaults.baseURL="http://"+e+"/api/";var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),u=j[0],h=j[1],b=function(e){var t=e.target.value;h(t)};re.a.polyfill();var m=function(e){e.preventDefault(),console.log("inside pin submit"),console.log("inside check pin"),L.a.post("pin",{pin:u}).then((function(e){var t=e.data.pin;return console.log("inside response",t),!0===t?c(!0):F.c.error("WRONG PIN!!"),t})).catch((function(e){F.c.error("Could not connect to server. Please try again!")}))};return Object(p.jsx)(l,{children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(W.a,{children:Object(p.jsx)(F.b,{position:"top-center",transition:F.a,autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,closeButton:!1,pauseOnHover:!1})}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/manage",exact:!0,children:!0===r?Object(p.jsx)(te,{}):Object(p.jsx)(ne,{pinSubmit:m,inputHandler:b,pin:u})}),Object(p.jsx)(o.a,{path:"/",children:Object(p.jsx)(U,{})})]})]})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,134)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};L.a.defaults.headers.post["Content-Type"]="application/json",c.a.render(Object(p.jsx)(ce,{}),document.getElementById("root")),se()},80:function(e,t,n){},85:function(e,t,n){},91:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.6320b959.chunk.js.map