(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);n(71);var a=n(0),r=n(22),c=n.n(r),s=(n(76),n(13)),i=n(31),o=n(9),l=function(e){return e.children},d=n(7),j=n(15),u=n(119),h=n(111),b=n(118),m=n.p+"static/media/name_transparent.be9494a1.png",p=n(1),x=function(e){return Object(p.jsx)("header",{children:Object(p.jsx)(u.a,{expand:"lg",bg:"secondary",variant:"dark",fixed:"top",className:"bg-header",children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)("img",{src:m,className:"img-logo",alt:"logo"}),Object(p.jsx)(b.a,{className:"ml-auto",children:Object(p.jsx)("h5",{style:{padding:"0px",margin:"0px",textTransform:"uppercase"},children:e.title})})]})})})},O=n(46),f=n(47),g=n(50),y=n(49),v=n(6),C=n.n(v),k=n(112),N=n(68),P=n(113),I=n.p+"static/media/img-default.dcc5f3db.png",S=(n(81),function(e){var t="http://"+window.location.host+e.item.image;return Object(p.jsx)("div",{className:"item",children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:4,style:{paddingRight:"0px"},children:Object(p.jsx)("div",{className:"item-image",children:null==e.item.image?Object(p.jsx)("img",{src:I,alt:"Product"}):Object(p.jsx)("img",{src:t,alt:"Product"})})}),Object(p.jsx)(N.a,{xs:8,style:{paddingLeft:"0px"},children:Object(p.jsxs)("div",{className:"item-details d-flex flex-column",children:[Object(p.jsx)("h4",{children:e.item.name}),Object(p.jsx)("p",{children:e.item.description}),Object(p.jsx)("div",{className:"item-footer mt-auto",children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)("h4",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9"})," ",e.item.price]})}),Object(p.jsx)(N.a,{style:{textAlign:"right"},children:!0===e.item.customizable?Object(p.jsxs)(P.a,{className:"btn-item-add",onClick:function(){return e.onAdd(e.item,e.category)},children:["Add",Object(p.jsx)("sup",{children:"+"})]}):Object(p.jsx)(P.a,{className:"btn-item-add",onClick:function(){return e.onAdd(e.item,e.category)},children:"Add"})})]})})]})})]})})});S.protoTypes={category:C.a.string.isRequired};var w=S,H=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"title-sticky",children:e.title}),e.items.map((function(t,n){var a=e.title+"_"+t.id;return Object(p.jsx)(w,{item:t,onAdd:e.onAdd,category:e.title},a)}))]})},z=n(116),A=n(28),T=function(e){var t,n={fontWeight:500};return Object(p.jsxs)("div",{className:"div-form",children:[Object(p.jsx)("label",{htmlFor:e.item.name,children:Object(p.jsx)("span",{style:e.item.purchased?n:null,onClick:function(t){e.onChange(t,e.item)},children:Object(p.jsx)("span",{style:{textTransform:"capitalize"},children:e.item.name})})}),Object(p.jsxs)("span",(t={style:e.item.purchased?n:null,onClick:function(t){e.onChange(t,e.item)}},Object(A.a)(t,"style",{textAlign:"right",float:"right",cursor:"pointer"}),Object(A.a)(t,"children",[Object(p.jsx)("span",{className:"rupee",style:e.item.purchased?n:{fontWeight:300},children:"\u20b9"}),Object(p.jsx)("span",{className:"span-price",style:e.item.purchased?n:{fontWeight:300},children:e.item.price}),Object(p.jsx)("input",{type:"checkbox",id:e.item.id,name:e.item.name,onChecked:function(t){e.onChange(t,e.item)},checked:e.item.purchased,style:{marginLeft:"8px"}})]),t))]})},D=n(12),F=n.n(D),B=(n(100),function(e){var t,n={fontWeight:500};return Object(p.jsxs)("div",{className:"div-form",children:[Object(p.jsx)("label",{htmlFor:e.item.name,children:Object(p.jsx)("span",{style:e.defaultChecked===e.item.name?n:null,onClick:function(t){e.onChange(t,e.item)},children:Object(p.jsx)("span",{style:{textTransform:"capitalize"},children:e.item.name})})}),Object(p.jsxs)("span",(t={style:e.defaultChecked===e.item.name?n:null,onClick:function(t){e.onChange(t,e.item)}},Object(A.a)(t,"style",{textAlign:"right",float:"right",cursor:"pointer"}),Object(A.a)(t,"children",[Object(p.jsx)("span",{className:"rupee",style:e.defaultChecked===e.item.name?n:{fontWeight:300},children:"\u20b9"}),Object(p.jsx)("span",{className:"span-price",style:e.defaultChecked===e.item.name?n:{fontWeight:300},children:e.item.price}),Object(p.jsx)("input",{type:"radio",name:"size",onChange:function(t){e.onChange(t,e.item)},checked:e.defaultChecked===e.item.name,value:e.item.name,style:{marginLeft:"8px"}})]),t))]})}),L=n(11),W=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],u=o[1],h=Object(a.useState)({id:e.modalInfo.id,category:e.modalInfo.category,name:e.modalInfo.name,size:{},addons:[],totalPrice:0}),b=Object(s.a)(h,2),m=b[0],x=b[1];Object(a.useEffect)((function(){!function(){var t=null,n="get_sizes/".concat(e.modalInfo.id);F.a.get(n).then((function(e){t=e.data.data;var n=e.data.data.size.map((function(e){var t="get_addons/".concat(e.id);return F.a.get(t)}));F.a.all(n).then((function(e){t.size.map((function(t,n){if(t.purchased=!0,t.addons=e[n].data.data[0].addons,t.addons.forEach((function(e){e.purchased=!1})),0===n){var a=Object(j.a)(t.addons),r=Object(d.a)({},m);r.size=Object(d.a)({},t),r.size.purchased=!0,r.totalPrice=t.price,delete r.size.addons,u(a),x(r)}return null})),c(t)}))})).catch((function(e){L.c.error("Could not connect to server. Please try again!")}))}()}),[]);var O=function(e,t){var n=Object(d.a)({},t);n.addons.forEach((function(e){return e.purchased=!1})),u(n.addons);var a=Object(d.a)({},m);a.size=Object.assign({},n),a.size.purchased=!0,delete a.size.addons,a.addons=[],a.totalPrice=n.price,x(a)},f=function(e,t){var n=Object(j.a)(l),a=Object(d.a)({},m);n.map((function(e){return t.id===e.id&&(e.purchased=!e.purchased),null})),u(n),a.addons=[],a.totalPrice=a.size.price,n.map((function(e){return!0===e.purchased&&(a.addons.push(e),a.totalPrice=a.totalPrice+e.price),null})),x(a)};return Object(p.jsx)("div",{children:Object(p.jsxs)(z.a,{show:e.customizing,onHide:e.handleClose,autoFocus:!0,enforceFocus:!0,children:[Object(p.jsx)(z.a.Header,{closeButton:!0,children:Object(p.jsxs)(z.a.Title,{children:[Object(p.jsx)("h4",{className:"uppercase",style:{fontSize:"17px"},children:e.modalInfo.name}),Object(p.jsxs)("p",{className:"category",children:["in ",e.modalInfo.category]})]})}),Object(p.jsx)(z.a.Body,{children:null!==r&&null!==l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{className:"mb-2",children:"Size"}),r.size.map((function(e){return Object(p.jsx)(B,{item:e,onChange:O,defaultChecked:null!==m.size?m.size.name:null},r.id+"_size_"+e.name)})),Object(p.jsx)("hr",{}),0!==l.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h5",{className:"mt-3 mb-2",children:"Add Ons"}),l.map((function(e){return Object(p.jsx)(T,{item:e,onChange:f},r.id+"_addon_"+e.name)}))]}):null]}):Object(p.jsx)("p",{children:"loading..."})}),Object(p.jsxs)(z.a.Footer,{children:[Object(p.jsxs)("h5",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),m.totalPrice]}),Object(p.jsx)(P.a,{variant:"primary",className:"btn-add-to-cart",disabled:null===r||null===l,onClick:function(){e.addToCartBtn(m)},children:"Add To Cart"})]})]})})},_=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menuItems:[],customization:!1,cart:[]},e.modalInfo=null,e.itemAddHandler=function(t,n){e.setState({customization:!0}),e.modalInfo=Object(d.a)({},t),e.modalInfo.category=n},e.itemCancelHandler=function(){e.setState({customization:!1})},e.displayMenu=function(){return e.state.menuItems.map((function(t){return Object(p.jsx)(H,{title:t.type,items:t.products,onAdd:e.itemAddHandler},t.type)}))},e}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;F.a.get("menu").then((function(t){var n=Object(d.a)({},e.state);n.menuItems=t.data.data.menuItems,e.setState(n)})).catch((function(e){L.c.error("Could not connect to server. Please try again!")}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(l,{children:[0!==this.state.menuItems.length?this.displayMenu():Object(p.jsx)("h5",{className:"text-center",style:{fontStyle:"italic"},children:"Loading... Please wait!"}),this.state.customization?Object(p.jsx)(W,{customizing:this.state.customization,handleClose:this.itemCancelHandler,modalInfo:this.modalInfo,addToCartBtn:function(t){e.setState({customization:!1}),e.props.addToCart(Object(d.a)({},t))},itemCancelHandler:this.itemCancelHandler}):null]})}}]),n}(a.Component),E=function(){return Object(p.jsx)("footer",{children:Object(p.jsx)(h.a,{children:Object(p.jsx)(k.a,{children:Object(p.jsx)(N.a,{className:"text-center",children:Object(p.jsx)("p",{style:{fontSize:"12px",fontWeight:400},children:"Copyright \xa9 2021 Bread Bites"})})})})})},R=n(117),M=(n(101),function(e){return Object(p.jsxs)(k.a,{className:"cartItem",children:[Object(p.jsxs)(N.a,{xs:8,children:[Object(p.jsx)("h5",{children:e.object.name}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:3,children:Object(p.jsx)("p",{children:"Category: "})}),Object(p.jsx)(N.a,{xs:9,children:Object(p.jsx)("p",{children:e.object.category})})]}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:3,children:Object(p.jsx)("p",{style:{textTransform:"capitalize"},children:"Size: "})}),Object(p.jsx)(N.a,{xs:9,children:Object(p.jsx)("p",{children:e.object.size.name})})]}),function(){if(0!==e.object.addons.length)return Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:3,children:Object(p.jsx)("p",{style:{textTransform:"capitalize"},children:"Addons: "})}),Object(p.jsx)(N.a,{xs:9,children:e.object.addons.map((function(e){return Object(p.jsx)("p",{children:e.name},e.id)}))})]})}()]}),Object(p.jsxs)(N.a,{xs:3,style:{textAlign:"right"},children:[Object(p.jsx)(k.a,{children:Object(p.jsx)(N.a,{style:{marginRight:"3px"},children:Object(p.jsxs)("h5",{className:"price",style:e.object.bogo?{textDecoration:"line-through",textDecorationThickness:"1px"}:null,children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),e.object.totalPrice]})})}),e.object.bogo?Object(p.jsx)(k.a,{children:Object(p.jsx)(N.a,{style:{textAlign:"right"},children:Object(p.jsx)("h5",{className:"free-badge",children:"free"})})}):null]}),Object(p.jsx)(N.a,{xs:1,style:{padding:"0 10px 0 0"},children:Object(p.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:function(t){return e.clearCart(t,e.object)},children:Object(p.jsx)("span",{"aria-hidden":"true",className:"remove-btn-cart",id:"remove",children:"\xd7"})})})]})}),G=n(114),X=function(e){return Object(p.jsxs)(G.a,{variant:e.variant,style:{borderRadius:"15px",border:"none"},children:[Object(p.jsx)(G.a.Heading,{children:e.title}),Object(p.jsx)("hr",{}),Object(p.jsx)("div",{className:"mb-0",children:e.children})]})},J=(n(102),function(e){var t=null;return 0!==e.cart.cartItems.length&&(t=e.cart.cartItems.map((function(t){return Object(p.jsx)(M,{object:t,clearCart:e.clearCart},t.kid)}))),Object(p.jsx)(l,{children:0!==e.cart.cartItems.length?Object(p.jsxs)(l,{children:[Object(p.jsxs)("div",{className:"cart-div",children:[Object(p.jsx)("h5",{style:{textAlign:"center",marginBottom:"30px"},children:"Order Summary"}),t,Object(p.jsx)("hr",{className:"cart-hr"}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:8,children:Object(p.jsx)("h5",{children:"Total"})}),Object(p.jsx)(N.a,{xs:3,style:{textAlign:"right"},children:e.cart.cartPrice===e.cart.totalPrice?Object(p.jsxs)("h5",{className:"price",children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{style:{fontWeight:"600"},children:e.cart.cartPrice})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("h5",{className:"price",style:{textDecoration:"line-through",textDecorationThickness:"1px"},children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),e.cart.totalPrice]}),Object(p.jsxs)("h5",{className:"price",style:{marginTop:"7px"},children:[Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{style:{fontWeight:"600"},children:e.cart.cartPrice})]})]})}),Object(p.jsx)(N.a,{xs:1,style:{padding:"0 10px 0 0"},children:Object(p.jsx)("button",{type:"button",className:"close","aria-label":"Close",style:{padding:"0px"},onClick:function(t){return e.clearCart(t)},children:Object(p.jsx)("span",{"aria-hidden":"true",className:"remove-btn-cart",id:"clear",children:"\xd7"})})})]}),Object(p.jsxs)("p",{style:{fontStyle:"italic"},children:["Quantity: ",e.cart.cartItems.length]})]}),Object(p.jsxs)(R.a,{validated:e.validated,noValidate:!0,onSubmit:e.placeOrder,children:[Object(p.jsxs)("div",{className:"cart-div",children:[Object(p.jsx)("h5",{style:{textAlign:"center"},children:"Contact Details"}),Object(p.jsxs)(R.a.Group,{as:k.a,controlId:"formHorizontalName",style:{marginTop:"30px"},children:[Object(p.jsx)(R.a.Label,{column:!0,xs:2,children:"Name"}),Object(p.jsxs)(N.a,{xs:10,children:[Object(p.jsx)(R.a.Control,{type:"text",placeholder:"John Peter",className:"input-field",value:e.name,onInput:function(t){return e.nameHandler(t)},required:!0}),Object(p.jsx)(R.a.Control.Feedback,{type:"invalid",children:"Please enter a name."})]})]}),Object(p.jsxs)(R.a.Group,{as:k.a,controlId:"formHorizontalPhone",children:[Object(p.jsx)(R.a.Label,{column:!0,xs:2,children:"Phone"}),Object(p.jsxs)(N.a,{xs:10,children:[Object(p.jsx)(R.a.Control,{type:"text",placeholder:"952XXXXX98",className:"input-field",value:e.phone,onInput:function(t){return e.phoneHandler(t)},required:!0,pattern:"[0-9]*",maxLength:10,minLength:10}),Object(p.jsx)(R.a.Control.Feedback,{type:"invalid",children:"Please enter a valid contact number."})]})]})]}),Object(p.jsx)("div",{className:"div-place-order",children:Object(p.jsx)(P.a,{type:"submit",className:"btn-place-order",children:"Place Order"})})]})]}):Object(p.jsx)(X,{title:"Empty Cart!",variant:"danger",children:Object(p.jsx)(i.c,{to:"/",className:"view-menu-btn-link",style:{textDecoration:"none"},children:Object(p.jsx)("div",{className:"view-menu-btn",children:"View MENU"})})})})});var q=Object(o.f)((function(e){var t=Object(a.useState)({cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}}),n=Object(s.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)({id:null,price:null}),u=Object(s.a)(l,2),b=u[0],m=u[1],O=Object(a.useState)(null),f=Object(s.a)(O,2),g=f[0],y=f[1];Object(a.useEffect)((function(){F.a.get("day").then((function(e){var t=e.data.day;console.log(t),y(t)})).catch((function(e){console.log(e)}))}),[]);var v=Object(a.useState)(0),C=Object(s.a)(v,2),k=C[0],N=C[1],P=Object(a.useState)(0),I=Object(s.a)(P,2),S=I[0],w=I[1],H=Object(a.useState)(0),z=Object(s.a)(H,2),A=z[0],T=z[1],D=Object(a.useState)([]),B=Object(s.a)(D,2),W=B[0],R=B[1],M=Object(a.useState)([]),G=Object(s.a)(M,2),q=G[0],V=G[1],U=function(e){if(0===k){console.log("inside if");for(var t=Object(j.a)(W),n=0;n<W.length;n++)for(var a=0;a<2;a++)if(t[n][a].kid===e.kid){var r=0===a?1:0;t[n][0].bogo=!1,t[n][1].bogo=!1,t[n][a]="empty";var c=t[n][r].kid;return console.log("step 1"),N(1),w(n),T(a),R(t),console.log("step 2"),{kid:c,one:!0}}}else if(1===k){console.log("inside else if 1");for(var s=Object(j.a)(W),i=0;i<W.length;i++)for(var o=0;o<2;o++)if(s[i][o].kid===e.kid){var l=1===o?0:1;if(S!==i){if(s[i][0].bogo=!1,s[i][1].bogo=!1,s[S][A]=Object(d.a)({},s[i][l]),s[S][0].totalPrice>=s[S][1].totalPrice){s[S][1].bogo=!0;var u=s[S][0].kid,h=s[S][1].kid;return s.splice(i,1),N(0),w(0),T(0),R(s),{kid:h,one:!1,kidF:u,onef:!1}}var b=s[S][1].kid;s[S][0].bogo=!0;var m=s[S][0].kid;return s.splice(i,1),N(0),w(0),T(0),R(s),{kid:m,one:!1,kidF:b,onef:!1}}if(S===i)return s.splice(S,1),N(0),T(0),w(0),R(s),{id:-1,one:!1}}}};function Q(e){var t=0;return e.cartItems.forEach((function(e){!1===e.bogo&&(t+=e.totalPrice)})),t}var Y=Object(a.useState)(!1),K=Object(s.a)(Y,2),Z=K[0],$=K[1],ee=Object(a.useState)(null),te=Object(s.a)(ee,2),ne=te[0],ae=te[1];return Object(a.useEffect)((function(){if(null!==ne){console.log("inside useeffect of itemremovetemp"),console.log(r),console.log(ne);var e=Object(d.a)({},r),t=Q(e);e.cartPrice=t,c(e)}}),[ne]),Object(p.jsxs)("div",{children:[Object(p.jsx)("main",{className:"app-body",children:Object(p.jsxs)(o.c,{children:[Object(p.jsxs)(o.a,{path:e.match.url,exact:!0,children:[Object(p.jsx)(x,{title:"menu"}),Object(p.jsxs)(h.a,{as:"div",style:{maxWidth:"540px"},children:[Object(p.jsx)(_,{addToCart:function(e){console.log("inside add to cart");var t=Object(d.a)({},e);t.bogo=!1;var n=Object(d.a)({},r),a=Object(j.a)(q);do{t.kid=n.cartItems.length+1+Math.floor(1e3*Math.random())}while(q.includes(t.kid));if(a.push(t.kid),n.cartPrice=n.cartPrice+t.totalPrice,n.totalPrice=n.totalPrice+t.totalPrice,n.cartItems.push(t),console.log(t.size.name),2===g&&"regular"!==t.size.name){var s=function(e){if(console.log(W.length),console.log(W),0===W.length){console.log("First Time"),console.log("inside first time if");var t=[e,"empty"],n=Object(j.a)(W);return n.push(t),N(1),R(n),-1}if(console.log("inside else"),1===k){console.log("inside if of else");var a=Object(j.a)(W),r=a[S].indexOf("empty"),c=1===r?0:1;return a[S][c].totalPrice>=e.totalPrice?(console.log("inside if of if of else"),console.log("max item is: ",a[S][c]),e.bogo=!0,a[S][r]=e,R(a),N(0),w(a.length-1),e.kid):(console.log("inside else of if of else"),a[S][c].bogo=!0,console.log("max item is: ",e),a[S][r]=e,R(a),N(0),w(a.length-1),a[S][c].kid)}if(0===k){console.log("inside else if of else");var s=[e,"empty"],i=Object(j.a)(W);return i.push(s),N(1),T(1),w(i.length-1),R(i),-1}}(Object(d.a)({},t)),i=null;-1!==s&&(s===t.kid?t.bogo=!0:n.cartItems.find((function(e,t){return e.kid===s&&(i=t,!0)}))&&(n.cartItems[i].bogo=!0)),n.cartPrice=Q(Object(d.a)({},n)),console.log(Q(Object(d.a)({},n)))}console.log("cart Length before:",r.cartItems.length),L.c.success("Added To Cart!"),V(a),c(n)}}),Object(p.jsx)(i.b,{to:"/cart",children:Object(p.jsxs)("div",{className:"icon-wrapper",children:[Object(p.jsx)("i",{className:"fas fa-shopping-cart fa-3x cart"}),Object(p.jsx)("span",{className:"badge",children:0!==r.cartItems.length?r.cartItems.length:null})]})})]})]}),Object(p.jsxs)(o.a,{path:e.match.url+"cart",children:[Object(p.jsx)(x,{title:"cart"}),Object(p.jsxs)(h.a,{as:"div",style:{maxWidth:"540px"},children:[Object(p.jsx)(J,{cart:r,name:r.contactDetails.name,phone:r.contactDetails.phone,nameHandler:function(e){var t=Object(d.a)({},r);t.contactDetails.name=e.target.value,c(t)},phoneHandler:function(e){var t=Object(d.a)({},r);t.contactDetails.phone=e.target.value,c(t)},placeOrder:function(t){!1===t.currentTarget.checkValidity()?(t.preventDefault(),t.stopPropagation(),$(!0)):(t.preventDefault(),t.stopPropagation(),function(){var t=Object(d.a)({},r),n={cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}},a=Object(d.a)({},b);console.log("inside postorder"),F.a.post("place_order",t).then((function(t){a.id=t.data.order_id,a.price=t.data.price,m(a),c(n),w(0),N(0),R([]),T(0),V([]),$(!1),e.history.replace("/order")})).catch((function(e){console.log(e),L.c.error("Could not connect to server. Please try again!")}))}())},validated:Z,clearCart:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.target.id,a=Object(d.a)({},r);if("clear"===n||"remove"===n&&1===a.cartItems.length)a={cartPrice:0,totalPrice:0,cartItems:[],contactDetails:{name:"",phone:""}},N(0),T(0),w(0),R([]),V([]);else if("remove"===n){var s=Object(j.a)(a.cartItems);if(a.cartItems=s.filter((function(e){return e.kid!==t.kid})),2===g&&"regular"!==t.size.name){console.log("step 0");var i=U(Object(d.a)({},t));console.log("step 3"),-1!==i.kid&&a.cartItems.forEach((function(e,t){e.kid===i.kid?!1===i.one?a.cartItems[t].bogo=!0:!0===i.one&&(a.cartItems[t].bogo=!1):void 0!==i.kidF&&i.kidF===e.kid&&!1===i.onef&&(a.cartItems[t].bogo=!1)})),ae(t)}else a.cartPrice=a.cartPrice-t.totalPrice;a.totalPrice=a.totalPrice-t.totalPrice}c(a),console.log("cart",r)}}),Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("div",{className:"icon-wrapper",children:Object(p.jsx)("i",{className:"fas fa-bars fa-3x cart"})})})]})]}),Object(p.jsxs)(o.a,{path:e.match.url+"order",children:[Object(p.jsx)(x,{}),Object(p.jsx)(h.a,{children:Object(p.jsx)(X,{variant:"success",title:"Order Successful!",children:Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{style:{fontWeight:"300"},children:"Thank you for your order. We've received it at our end. Please note the below details: "}),Object(p.jsxs)("div",{style:{margin:"15px 0"},children:[Object(p.jsxs)("h4",{children:["Order No: ",Object(p.jsx)("span",{children:b.id})]}),Object(p.jsxs)("h4",{children:["Amount: ",Object(p.jsx)("span",{className:"rupee",children:"\u20b9 "}),Object(p.jsx)("span",{children:b.price})]})]}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:"Pay the above amount at the cash counter for your order to process."}),Object(p.jsx)("br",{}),Object(p.jsx)("span",{style:{display:"block",marginTop:"10px",fontWeight:"300"},children:"Enjoy your meal!"})]})})})]}),Object(p.jsx)(o.a,{render:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{}),Object(p.jsx)(h.a,{children:Object(p.jsx)("h2",{children:"404. Page Not Found!"})})]})}})]})}),Object(p.jsx)(E,{})]})})),V=n(120),U=n(115),Q=(n(105),n(106),function(e){return Object(p.jsx)(V.a,{className:"item-card",children:Object(p.jsxs)(V.a.Body,{className:"item-card-body",children:[Object(p.jsx)(V.a.Title,{children:e.item.name}),Object(p.jsx)(V.a.Subtitle,{className:"mb-2 text-muted",children:e.item.category}),Object(p.jsxs)(V.a.Text,{as:"div",className:"item-card-body-text",children:[Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{style:{fontStyle:"italic"},children:"Price: "}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:e.item.total})]}),Object(p.jsxs)("p",{children:[Object(p.jsx)("span",{style:{fontStyle:"italic"},children:"Size: "}),Object(p.jsx)("span",{style:{fontWeight:"500"},children:e.item.itemSize.name})]}),0!==e.item.itemAddons.length?Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{xs:4,style:{paddingRight:"0px"},children:Object(p.jsx)("p",{style:{fontStyle:"italic"},children:"Addons:"})}),Object(p.jsx)(N.a,{xs:8,style:{paddingLeft:"0px",fontWeight:"500"},children:e.item.itemAddons.map((function(e){return Object(p.jsx)("p",{children:e.name},e.id)}))})]}):null]})]})})}),Y=function(e){var t=null;return"tobepaid"===e.order.order.status?(t="info","1px solid var(--info)"):"paid"===e.order.order.status?(t="warning","1px solid var(--warning)"):"prepared"===e.order.order.status&&!0===e.order.order.paidStatus?(t="success","1px solid var(--success)"):"paylater"===e.order.order.status?(t="danger","1px solid var(--danger)"):"prepared"===e.order.order.status&&!1===e.order.order.paidStatus&&(t="success","1px solid var(--success)"),Object(p.jsxs)(V.a,{border:t,className:"orderCard",onClick:e.soundStop,children:[Object(p.jsx)(V.a.Header,{style:{borderBottom:"none"},children:Object(p.jsxs)(k.a,{style:{textAlign:"center"},children:[Object(p.jsxs)(N.a,{lg:2,children:["Order No: ",Object(p.jsx)("span",{className:"bold",children:e.order.order.id})]}),Object(p.jsxs)(N.a,{lg:2,children:["Items: ",Object(p.jsx)("span",{className:"bold",children:e.order.orderItems.length})]}),Object(p.jsxs)(N.a,{lg:5,children:["Contact: ",Object(p.jsxs)("span",{className:"bold",children:[e.order.contactDetails.name," - ",e.order.contactDetails.phone]})]}),Object(p.jsxs)(N.a,{lg:3,children:["Amount: ",Object(p.jsx)("span",{className:"bold",children:e.order.order.paid})," ",Object(p.jsxs)("span",{style:{textDecoration:"line-through",textDecorationThickness:"1px"},children:[" ",2===e.day?e.order.order.total:null," "]})," - ",!0===e.order.order.paidStatus?Object(p.jsx)("span",{children:"Paid"}):Object(p.jsx)("span",{children:"Not Paid"})]})]})}),Object(p.jsx)(V.a.Body,{className:"order-card-body",children:Object(p.jsxs)(k.a,{style:{justifyContent:"center",alignItems:"center"},children:[Object(p.jsx)(N.a,{children:Object(p.jsx)(U.a,{children:e.order.orderItems.map((function(e){return Object(p.jsx)(Q,{item:e},e.id)}))})}),Object(p.jsx)(N.a,{lg:3,id:"orderCardBtn",children:"tobepaid"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"cancel",onClick:function(t){return e.statusHandler(t,e.order)},children:"Cancel"}),Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"danger",id:"payLater",onClick:function(t){return e.statusHandler(t,e.order)},children:"Pay Later"})]}):"paid"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"preparing",disabled:!0,onClick:function(t){return e.statusHandler(t,e.order)},children:"Preparing"}),Object(p.jsx)(P.a,{variant:"warning",id:"prepared",onClick:function(t){return e.statusHandler(t,e.order)},children:"Prepared"})]}):"prepared"===e.order.order.status&&!0===e.order.order.paidStatus?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(P.a,{variant:"success",id:"dispatched",onClick:function(t){return e.statusHandler(t,e.order)},children:"Dispatched"})}):"paylater"===e.order.order.status?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"outline-secondary",id:"preparing",disabled:!0,onClick:function(t){return e.statusHandler(t,e.order)},children:"Preparing"}),Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"danger",id:"prepared",onClick:function(t){return e.statusHandler(t,e.order)},children:"Prepared"})]}):"prepared"===e.order.order.status&&!1===e.order.order.paidStatus?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(P.a,{variant:"info",id:"paid",onClick:function(t){return e.statusHandler(t,e.order,!0)},children:"Paid"}),Object(p.jsx)(P.a,{variant:"success",id:"dispatched",onClick:function(t){return e.statusHandler(t,e.order)},children:"Dispatched"})]}):void 0})]})})]})},K=(n(107),function(e){return Object(p.jsxs)(z.a,{show:e.show,onHide:e.handleClose,backdrop:"static",keyboard:!1,children:[Object(p.jsx)(z.a.Header,{closeButton:!0,children:Object(p.jsx)(z.a.Title,{children:e.modalInfo.messages.title})}),Object(p.jsx)(z.a.Body,{children:Object(p.jsx)("span",{style:{fontWeight:"300"},children:e.modalInfo.messages.body})}),Object(p.jsxs)(z.a.Footer,{className:"confirmation-modal-footer",children:[Object(p.jsx)(P.a,{variant:"secondary",style:{padding:"8px 40px",margin:"0"},onClick:e.handleClose,children:"No"}),Object(p.jsx)(P.a,{variant:"primary",style:{padding:"8px 40px",margin:"0",borderBottomRightRadius:"13px"},onClick:function(t){return e.modalInfo.messages.button(t,e.modalInfo)},children:"Yes"})]})]})}),Z=n(57),$=n.p+"static/media/notification.36b3763c.mp3",ee=function(e){Object(g.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(O.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={orders:[],confirmation:!1,soundLoop:!1,day:null},e.sound=new Z.Howl({src:$,loop:!0}),e.soundPlay=function(){e.sound.play(),Z.Howler.volume(1)},e.soundStop=function(){e.sound.stop()},e.preparedHandler=function(t,n){var a=Object(j.a)(e.state.orders);a[e.state.orders.findIndex((function(e){return e.order.id===n.data.order.id}))].order.status=n.messages.title.toLowerCase(),e.setState({orders:a,confirmation:!1})},e.confirmHandler=function(t,n){var a=Object(j.a)(e.state.orders),r=e.state.orders.findIndex((function(e){return e.order.id===n.data.order.id}));a[r].order.status=n.messages.title.toLowerCase(),!0===n.paidBtn&&(a[r].order.paidStatus=!0),F.a.put("update_status/".concat(n.data.order.id),{status:n.messages.title.toLowerCase()}).then((function(t){console.log(t),"cancelled"===t.data.order.status||"dispatched"===t.data.order.status?(a.splice(r,1),e.setState({orders:a,confirmation:!1})):e.setState({orders:a,confirmation:!1}),L.c.success("Changes pushed to server.")})).catch((function(e){console.log(e),L.c.error("Could not connect to server. Please try again later.")}))},e.messages={paid:{title:"Paid",body:"Are you sure you want to confirm as the order paid?",button:e.confirmHandler},payLater:{title:"Paylater",body:"Are you sure you want to confirm the order as pay later?",button:e.confirmHandler},cancel:{title:"Cancelled",body:"Are you sure you want to cancel the order?",button:e.confirmHandler},dispatched:{title:"Dispatched",body:"Are you sure you want to make the order dispatched?",button:e.confirmHandler},prepared:{title:"Prepared",body:"Are you sure you want to make the order prepared?",button:e.confirmHandler}},e.modalInfo={},e.confirmationClose=function(){return e.setState({confirmation:!1})},e.confirmationShow=function(){return e.setState({confirmation:!0})},e.statusHandler=function(t,n,a){console.log(n);var r=t.target.id;e.modalInfo.messages=e.messages[r],e.modalInfo.data=n,e.modalInfo.paidBtn=a,console.log(e.modalInfo),e.confirmationShow()},e.displayOrders=function(){return e.state.orders.map((function(t){return Object(p.jsx)(Y,{statusHandler:e.statusHandler,order:t,soundStop:e.soundStop,day:e.state.day},t.order.id+t.contactDetails.id)}))},e.orderData=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=Object(j.a)(e.state.orders);if(!0===n){var r=Object(d.a)({},t);a.unshift(r)}else{var c=t;c.forEach((function(e){var t={contactDetails:{id:e.id,name:e.name,phone:e.phone},order:{id:e.order[0].id,status:e.order[0].status,paid:e.order[0].paid,total:e.order[0].total,paidStatus:e.order[0].paid_status},orderItems:e.order[0].orderitems.map((function(e){return{id:e.id,category:e.category,name:e.name,product:e.product,total:e.total,itemSize:{id:e.size_id,name:e.size_name,price:e.price},itemAddons:e.item_addons.map((function(e){return{id:e.id,addon:e.addon,name:e.name,price:e.price}}))}}))};a.unshift(t)}))}e.setState({orders:a})},e.landed=!1,e.fetchOrder=function(){F.a.get("get_order_details").then((function(t){0!==t.data.data.length&&e.orderData(t.data.data)})).catch((function(e){console.log("fetch order error",e),L.c.error("Could not connect to server. Please try again later.")}));var t=new EventSource("http://".concat(window.location.host,"/api/get_latest_order"));t.onmessage=function(t){console.log(t),!0===e.landed&&(e.orderData(JSON.parse(t.data),!0),e.soundPlay()),e.landed=!0},t.onerror=function(e){console.log("event source error",e),L.c.error("Could not connect to server. Please try again later.")}},e.componentDidMount=function(){e.landed=!1,F.a.get("day").then((function(t){var n=t.data.day;console.log(n),e.setState({day:n})})).catch((function(e){console.log(e)})),e.fetchOrder()},e}return Object(f.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(l,{children:[Object(p.jsx)(x,{title:"manage"}),Object(p.jsx)(L.b,{position:"top-center",transition:L.a,autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!1,closeButton:!1}),Object(p.jsx)("main",{className:"py-3 app-body",children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)("div",{id:"headerBar",children:Object(p.jsxs)(k.a,{children:[Object(p.jsx)(N.a,{children:Object(p.jsxs)("h4",{style:{fontWeight:"400"},children:["Orders: ",Object(p.jsx)("span",{className:"bold",children:this.state.orders.length})]})}),Object(p.jsx)(N.a,{style:{textAlign:"right"},children:Object(p.jsx)("h4",{children:"Filter"})})]})}),Object(p.jsxs)("div",{id:"orders",children:[0!==this.state.orders.length?this.displayOrders():Object(p.jsx)("h4",{className:"text-center",children:"No orders to display."}),this.state.confirmation?Object(p.jsx)(K,{show:this.state.confirmation,handleShow:this.confirmationShow,handleClose:this.confirmationClose,modalInfo:this.modalInfo}):null]})]})}),Object(p.jsx)(E,{})]})}}]),n}(a.Component),te=function(e){return Object(p.jsx)("div",{style:{margin:"auto",marginTop:"10vh",width:"300px"},children:Object(p.jsx)(X,{variant:"info",title:"Enter PIN",children:Object(p.jsxs)(R.a,{onSubmit:function(t){return e.pinSubmit(t)},children:[Object(p.jsx)(R.a.Group,{controlId:"formGroupPassword",children:Object(p.jsx)(R.a.Control,{type:"password",placeholder:"Password",value:e.pin,onChange:e.inputHandler,style:{borderRadius:"70px"}})}),Object(p.jsx)(P.a,{variant:"primary",type:"submit",style:{width:"100%",borderRadius:"70px"},onClick:function(t){e.pinSubmit(t)},children:"Submit"})]})})})},ne=(n(108),function(){var e=window.location.host;F.a.defaults.baseURL="http://"+e+"/api/";var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],d=Object(a.useState)(""),j=Object(s.a)(d,2),u=j[0],b=j[1],m=function(e){var t=e.target.value;b(t)},x=function(e){e.preventDefault(),console.log("inside pin submit"),console.log("inside check pin"),F.a.post("pin",{pin:u}).then((function(e){var t=e.data.pin;return console.log("inside response",t),!0===t?c(!0):L.c.error("WRONG PIN!!"),t})).catch((function(e){L.c.error("Could not connect to server. Please try again!")}))};return Object(p.jsx)(l,{children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(h.a,{children:Object(p.jsx)(L.b,{position:"top-center",transition:L.a,autoClose:1500,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,closeButton:!1,pauseOnHover:!1})}),Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{path:"/manage",exact:!0,children:!0===r?Object(p.jsx)(ee,{}):Object(p.jsx)(te,{pinSubmit:x,inputHandler:m,pin:u})}),Object(p.jsx)(o.a,{path:"/",children:Object(p.jsx)(q,{})})]})]})})}),ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,121)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};F.a.defaults.headers.post["Content-Type"]="application/json",c.a.render(Object(p.jsx)(ne,{}),document.getElementById("root")),ae()},71:function(e,t,n){},76:function(e,t,n){},81:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.5762e168.chunk.js.map